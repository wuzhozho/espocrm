{"version":3,"file":"espo-calendar.js","sources":["original/espo-calendar.js"],"names":["define","_exports","_view","_moment","FullCalendar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","cache","has","get","key","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","prototype","hasOwnProperty","call","set","_interopRequireWildcard","CalendarView","template","eventAttributes","colors","allDayScopeList","scopeList","header","modeList","fullCalendarModeList","defaultMode","slotDuration","scrollToNowSlots","scrollHour","titleFormat","month","week","day","rangeSeparator","fetching","modeViewMap","agendaWeek","agendaDay","basicWeek","basicDay","listWeek","extendedProps","calendar","events","click button[data-action=\"prev\"]","this","actionPrevious","click button[data-action=\"next\"]","actionNext","click button[data-action=\"today\"]","actionToday","click [data-action=\"mode\"]","e","mode","$","currentTarget","data","selectMode","click [data-action=\"refresh\"]","actionRefresh","click [data-action=\"toggleScopeFilter\"]","$target","filterName","$check","find","hasClass","removeClass","addClass","stopPropagation","toggleScopeFilter","isCustomViewAvailable","isCustomView","todayLabel","translate","todayLabelShort","slice","setup","wait","Espo","loader","requirePromise","suppressLoadingAlert","options","date","undefined","setupMode","$container","Utils","clone","getMetadata","getConfig","getPreferences","setupScrollHour","getHelper","themeManager","getParam","getAcl","getPermissionLevel","userId","forEach","scope","check","push","enabledScopeList","getStoredEnabledScopeList","toString","item","color","createView","selector","viewMode","teamIdList","length","indexOf","viewId","calendarViewDataList","id","viewName","name","isAgendaMode","previousMode","trigger","$el","changeView","toAgenda","fromAgenda","refetchEvents","updateDate","hasView","getModeButtonsView","reRender","getView","index","splice","storeEnabledScopeList","getStorage","title","isToday","getTitle","text","view","todayUnix","unix","startUnix","activeStart","endUnix","activeEnd","timeGridWeek","timeGridDay","dayGridWeek","dayGridDay","dayGridMonth","type","let","end","format","start","dateToMoment","currentStart","currentEnd","subtract","userName","escapeString","convertToFcEvent","o","event","recordId","dateStart","dateEnd","dateStartDate","dateEndDate","status","originalColor","display","isWorkingRange","groupId","userIdList","userNameMap","sort","v1","v2","localeCompare","attr","getDateTime","toMoment","duration","toISOString","allDay","handleAllDay","fillColor","handleStatus","tz","getTimeZone","getEventTypeCompletedStatusList","getEventTypeCanceledStatusList","getColorFromScopeName","includes","shadeColor","className","percent","getThemeManager","alpha","substring","f","parseInt","t","p","R","G","B","Math","round","notInitial","allDayCopy","hours","minutes","add","isSame","toDate","convertToFcEvents","list","now","convertDateTime","internalDateTimeFormat","timeZone","m","utc","getCalculatedHeight","height","calculateContentContainerHeight","adjustSize","isRemoved","setOption","updateSize","afterRender","containerSelector","$calendar","timeFormat","slotLabelFormat","scrollTime","headerToolbar","eventTimeFormat","initialView","defaultRangeSeparator","weekNumbers","weekNumberCalculation","editable","selectable","selectMirror","firstDay","weekStart","slotEventOverlap","slotLabelInterval","snapDuration","longPressDelay","eventColor","nowIndicator","allDayText","weekText","views","dayHeaderFormat","windowResize","select","info","startStr","endStr","createEvent","unselect","eventClick","Ui","notify","removeDisabled","render","listenToOnce","model","removeModel","listenTo","bypassClose","close","updateModel","datesSet","fromIso","getDate","callback","dateTimeFormat","from","to","fromStr","toStr","fetchEvents","eventDrop","delta","attributes","dateString","internalDateFormat","props","obtainPropsFromEvent","getModelFactory","create","save","patch","then","applyPropsToEvent","catch","revert","eventResize","setExtendedProp","eventContent","arg","$content","append","timeText","avatarHtml","getAvatarHtml","$div","css","overflow","html","innerHTML","aspectRatio","contentHeight","initialDate","setTimeout","Calendar","handleScrollToNow","getNowMoment","floor","scrollToTime","values","getToday","assignedUserId","assignedUserName","added","addModel","url","encodeURIComponent","join","agenda","Ajax","getRequest","getClonedAttributes","entityType","addEvent","eventId","getEventById","setDates","setProp","remove","prev","next","additionalColorList","j","i","today"],"mappings":"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"}